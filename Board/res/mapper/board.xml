<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">


	<insert id="insertBoard" parameterType="bodVO">
		INSERT INTO pj_board  
		( board_no, board_title, memid_writer, board_content ,board_date, board_hits)
		VALUES (BOARD_SEQ.NEXTVAL, #{bodTitle}, #{memidWriter}, #{bodContent}, SYSDATE, #{bodHits})
	
	</insert>
	
	<update id="updateBoard" parameterType="bodVO">
	
			update pj_board
				set board_title = #{bodTitle},
				memid_writer = #{memidWriter},
				board_content = #{bodContent},
				board_hits = #{bodHits}
			where board_no = #{bodNo}
	</update>
	
	<delete id="deleteBoard" >
	
		delete from pj_board where board_no = #{aaaaaa}
	</delete>
	
	<select id="getBoardAll" resultType="bodVO">
	
		select board_no as bodNo
		      ,board_title as bodTitle
		      ,memid_writer as bodWriter
		      ,board_content as bodContent
		      ,board_hits as bodHits
		from pj_board
		
	</select>
	

	<select id="checkBoard" parameterType="String" resultType="int">
		
		select count(*) as cnt 
		from pj_board where board_no = #{bodNo}
		
	
	</select>

	<select id="searchBoard" resultType="bodVO" >
		SELECT BOARD_NO as bodNo
			 , BOARD_TITLE as bodTitle
			 , MEMID_WRITER as midWriter
			 , BOARD_CONTENT as bodContent
			 , BOARD_DATE as bodDate
			 , BOARD_HITS as bodHits
		  FROM PJ_BOARD where 1=1
		  
 		<if test="bodNo != null and bodNo != ''">
			and board_no = #{bodNo} 
		</if> 
		<if test="bodWriter != null and bodWriter != ''">
			and board_writer = #{bodWriter} 
		</if>
		<if test="bodTitle != null and bodTitle != ''">
			and board_title = #{bodTitle} 
		</if>
		<if test="bodContent != null and bodContent != ''">
			and board_content like '%' || #{bodContent} || '%' 
		</if>
	</select>

</mapper>